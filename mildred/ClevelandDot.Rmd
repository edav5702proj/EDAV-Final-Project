---
title: "Untitled"
author: "Mildred Ouyang"
date: "2022-12-13"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r}
library(ggplot2)
library(plyr)
library(dplyr)
library(tidyverse)

#install.packages("hash")
library(hash)
```

```{r}
filenames <- list.files("Data/data/Magic Kingdom/xysong_python")
dict <- hash()
for (csv in filenames){
  dict[[csv]] <- read.csv(sprintf("Data/data/Magic Kingdom/xysong_python/%s", csv))
}
```

```{r}
avg <- list()
for (csv in filenames) {
  avg <- append(avg, mean(dict[[csv]]$Waiting.Time))
}
```

```{r}
avg_time = data.frame(unlist(filenames), unlist(avg))
names(avg_time) = c("Ride","avgtime")
avg_time
```

```{r}
ggplot(avg_time, aes(x=avgtime, y=fct_reorder(Ride, avgtime))) + 
  geom_point(color = "blue") +
  labs(title = "Average Waiting Time for Each Ride", 
       x = "Average Waiting Time", 
       y = "Ride")
```

```{r}
avg <- list()
for (csv in filenames) {
  avg <- append(avg, mean(dict[[csv]]$Waiting.Time >= ""))
}
```